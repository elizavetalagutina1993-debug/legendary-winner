<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–Ω–µ –ø–µ–ª—å–º–µ–Ω–∏ üç∑ü•ó</title>
<style>
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;margin:0;background:#fafafa;color:#111;text-align:center}
header{padding:40px 20px}
h1{margin:0;font-size:32px;font-weight:800}
.desc{margin-top:8px;font-size:16px;color:#555}
.container{max-width:700px;margin:0 auto;padding:0 16px}
.section{display:none}
h2{font-size:22px;margin:20px 0}
ul{list-style:none;padding:0;margin:0;text-align:left;max-width:400px;margin:0 auto}
li{margin:10px 0;font-size:16px}
label{cursor:pointer}
.btn{background:#111;color:#fff;padding:12px 20px;border-radius:10px;font-weight:700;cursor:pointer;font-size:14px;border:0;margin-top:20px}
.btn.sec{background:#f0f0f3;color:#111}
table{width:100%;border-collapse:collapse;margin-top:20px}
th,td{padding:8px;border-bottom:1px solid #eee;text-align:left}
th{color:#555;font-size:14px}
.result-box{background:#fff;border:1px solid #eee;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,.05);padding:20px;margin-top:20px;text-align:left}
.final-msg{margin-top:24px;font-size:16px;color:#333;font-style:italic;text-align:center}
</style>
</head>
<body>
<header>
  <h1>–Ω–µ –ø–µ–ª—å–º–µ–Ω–∏ üç∑ü•ó</h1>
  <div class="desc">–∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –µ–¥—ã –∏ –Ω–∞–ø–∏—Ç–∫–æ–≤ –¥–ª—è —É–∂–∏–Ω–∞ –¥—Ä—É–∑–µ–π</div>
</header>
<div class="container">

  <div id="step1" class="section" style="display:block">
    <h2>—à–∞–≥ 1: —á—Ç–æ –ø—å—ë–º?</h2>
    <ul id="drinkList"></ul>
    <button class="btn" onclick="goToStep2()">–¥–∞–ª–µ–µ ‚Üí</button>
  </div>

  <div id="step2" class="section">
    <h2>—à–∞–≥ 2: —á—Ç–æ –µ–¥–∏–º?</h2>
    <ul id="foodList"></ul>
    <button class="btn sec" onclick="backToStep1()">‚Üê –Ω–∞–∑–∞–¥</button>
    <button class="btn" onclick="goToStep3()">–¥–∞–ª–µ–µ ‚Üí</button>
  </div>

  <div id="step3" class="section">
    <h2>–∏—Ç–æ–≥–∏ –≤—ã–±–æ—Ä–∞</h2>
    <div class="result-box">
      <h3>–Ω–∞–ø–∏—Ç–∫–∏</h3>
      <table id="drinkResults"></table>
      <h3>–µ–¥–∞</h3>
      <table id="foodResults"></table>
    </div>
    <div class="final-msg">
      –ü–æ–≤–∞—Ä —É—á—Ç–µ—Ç –≤–∞—à–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è, –Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç —Å–≤–æ–µ —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ –±–ª—é–¥–æ<br>
      –ø–æ —Å–≤–æ–∏–º –ª–∏—á–Ω—ã–º —É–±–µ–∂–¥–µ–Ω–∏—è–º –∏ –≤–∫—É—Å–∞–º.<br>
      –µ—Å–ª–∏ –Ω–µ –ø–æ–Ω—Ä–∞–≤–∏—Ç—å—Å—è ‚Äî –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –ø–µ–ª—å–º–µ–Ω–∏ ü•ü
    </div>
    <button class="btn sec" onclick="backToStep2()">‚Üê –Ω–∞–∑–∞–¥</button>
  </div>

</div>
<script>
const drinks=['–≤–∏–Ω–æ –∫—Ä–∞—Å–Ω–æ–µ','–≤–∏–Ω–æ –±–µ–ª–æ–µ','–∫–æ–∫—Ç–µ–π–ª—å','–ø–∏–≤–æ','—Å–æ–∫','–≤–æ–¥–∞'];
const foods=['—Å—ã—Ä–Ω–∞—è —Ç–∞—Ä–µ–ª–∫–∞','—Å–∞–ª–∞—Ç','—Å—Ç–µ–π–∫','–ø–∞—Å—Ç–∞','–æ–≤–æ—â–∏ –≥—Ä–∏–ª—å','–ø–∏—Ü—Ü–∞','–ø–µ–ª—å–º–µ–Ω–∏'];

let selections={drinks:[],foods:[]};

function renderList(id,items,type){
  const ul=document.getElementById(id);
  ul.innerHTML='';
  items.forEach(item=>{
    const li=document.createElement('li');
    const cid=type+'_'+item;
    li.innerHTML=`<label><input type="checkbox" id="${cid}" onchange="toggleItem('${type}','${item}')"> ${item}</label>`;
    ul.appendChild(li);
  });
}
function toggleItem(type,item){
  let arr=selections[type];
  if(arr.includes(item)){ selections[type]=arr.filter(x=>x!==item); }
  else{ arr.push(item); }
  saveSelections();
}
function saveSelections(){
  localStorage.setItem('ne-pelmeni-selections',JSON.stringify(selections));
}
function loadSelections(){
  const s=localStorage.getItem('ne-pelmeni-selections');
  if(s){ selections=JSON.parse(s); }
}
function showStep(step){
  ['step1','step2','step3'].forEach(id=>document.getElementById(id).style.display='none');
  document.getElementById(step).style.display='block';
}
function goToStep2(){ showStep('step2'); }
function backToStep1(){ showStep('step1'); }
function goToStep3(){ renderResults(); showStep('step3'); }
function backToStep2(){ showStep('step2'); }

function renderResults(){
  const dT=document.getElementById('drinkResults'); dT.innerHTML='<tr><th>–Ω–∞–ø–∏—Ç–æ–∫</th><th>–≤—ã–±—Ä–∞–Ω–æ</th></tr>';
  drinks.forEach(item=>{
    const checked=selections.drinks.includes(item)?'‚úîÔ∏è':'';
    dT.innerHTML+=`<tr><td>${item}</td><td>${checked}</td></tr>`;
  });
  const fT=document.getElementById('foodResults'); fT.innerHTML='<tr><th>–±–ª—é–¥–æ</th><th>–≤—ã–±—Ä–∞–Ω–æ</th></tr>';
  foods.forEach(item=>{
    const checked=selections.foods.includes(item)?'‚úîÔ∏è':'';
    fT.innerHTML+=`<tr><td>${item}</td><td>${checked}</td></tr>`;
  });
}

loadSelections();
renderList('drinkList',drinks,'drinks');
renderList('foodList',foods,'foods');
</script>
</body>
</html>